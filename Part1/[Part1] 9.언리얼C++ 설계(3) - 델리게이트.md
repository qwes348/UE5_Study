---
sticker: emoji//1f47e
tistoryBlogName: trialdeveloper
tistoryTitle: "[Part1] 9.μ–Έλ¦¬μ–ΌC++ μ„¤κ³„(3) - λΈλ¦¬κ²μ΄νΈ"
tistoryTags: UE5, μ΄λ“μ°, μΈν”„λ°
tistoryVisibility: "3"
tistoryCategory: "1149193"
tistorySkipModal: true
tistoryPostId: "96"
tistoryPostUrl: https://trialdeveloper.tistory.com/96
---
# λμ¨ν• κ²°ν•©(Loose Coupling)
---

## κ°•ν• κ²°ν•©κ³Ό λμ¨ν• κ²°ν•©
---
- **κ°•ν• κ²°ν•©(Tight Coupling)**
	- ν΄λμ¤λ“¤μ΄ μ„λ΅ μμ΅΄μ„±μ„ κ°€μ§€λ” κ²½μ°λ¥Ό μλ―Έν•λ‹¤.
	- μ•„λ μμ‹μ—μ„ `Card`κ°€ μ—†λ” κ²½μ° `Person`μ΄ λ§λ“¤μ–΄μ§ μ μ—†λ‹¤.
	- μ΄ λ• `Person`μ€ `Card`μ— λ€ν• μμ΅΄μ„±μ„ κ°€μ§„λ‹¤κ³  ν•λ‹¤.
	- ν•Έλ“ν°μ—μ„λ„ μΈμ¦ν•  μ μλ” μƒλ΅μ΄ μΉ΄λ“κ°€ λ„μ…λλ‹¤λ©΄?

- **λμ¨ν• κ²°ν•©(Loose Coupling)**
	- μ‹¤λ¬Όμ— μμ΅΄ν•μ§€ λ§κ³  μ¶”μƒμ  μ„¤κ³„μ— μμ΅΄ν•λΌ. (DIP μ›μΉ™)
	- μ™ `Person`μ€ `Card`κ°€ ν•„μ”ν•κ°€? β†’ μ¶μ…μ„ ν™•μΈν•΄μ•Ό ν•κΈ° λ•λ¬Έ
	- μ¶μ…μ— κ΄€λ ¨λ μ¶”μƒμ μΈ μ„¤κ³„μ— μμ΅΄ν•μ.
	- `ICheck`λ¥Ό μƒμ†λ°›μ€ μƒλ΅μ΄ μΉ΄λ“ μΈν„°νμ΄μ¤λ¥Ό μ„ μ–Έν•΄ ν•΄κ²°
	- μ΄λ¬ν• λμ¨ν• κ²°ν•© κµ¬μ΅°λ” μ μ§€ λ³΄μλ¥Ό μ†μ‰½κ² λ§λ“¤μ–΄ μ¤.

κΈ°μ΅΄ μ½”λ“
```cpp
class Card
{
public:
	Card(int InId) : Id(InId) {}
	int Id = 0;
};

class Person
{
public:
	Person(Card InCard) : IdCard(InCard) {}

protected:
	Card IdCard;
};
```
`ICheck`μΈν„°νμ΄μ¤λ¥Ό λ„μ…ν• μ½”λ“ β¬‡οΈ
```cpp
class ICheck
{
public:
	virtual bool check() = 0;
};

class Card : public ICheck
{
public:
	Card(int InId) : Id(InId) {}

	virtual bool check() { return true; }
	
private:
	int Id = 0;
};

class Person
{
public:
	Person(ICheck* InCheck) : Check(InCheck) {}

protected:
	ICheck* Check;
}
```


## λμ¨ν• κ²°ν•©μ κ°„νΈν• κµ¬ν„ - λΈλ¦¬κ²μ΄νΈ(`Delegate`)
---
- κ·Έλ ‡λ‹¤λ©΄ ν•¨μλ¥Ό μ¤λΈμ νΈμ²λΌ κ΄€λ¦¬ν•λ©΄ μ–΄λ–¨κΉ?
- ν•¨μλ¥Ό λ‹¤λ£¨λ” λ°©λ²•
	- ν•¨μ ν¬μΈν„°λ¥Ό ν™μ©ν• μ½λ°±(`callback`)ν•¨μμ κµ¬ν„
	- κ°€λ¥μ€ ν•λ‚ μ΄λ¥Ό μ •μν•κ³  μ‚¬μ©ν•λ” κ³Όμ •μ΄ κ½¤λ‚ λ³µμ΅ν•¨.
	- μ•μ •μ„±μ„ μ¤μ¤λ΅ κ²€μ¤‘ν•΄μ£Όμ–΄μ•Ό ν•¨
	- C++17 κ·μ•½μ `std::bind`μ™€ `std::function` ν™μ©μ€ λλ¦Ό
- C#μ λΈλ¦¬κ²μ΄νΈ(`delegate`) ν‚¤μ›λ“
	- ν•¨μλ¥Ό λ§μΉ κ°μ²΄μ²λΌ λ‹¤λ£° μ μμ
	- μ•μ •μ μ΄κ³  κ°„νΈν• μ„ μ–Έ
- <u>μ–Έλ¦¬μ–Ό C++λ„ λΈλ¦¬κ²μ΄νΈλ¥Ό μ§€μ›ν•¨.</u>
	- λμ¨ν• κ²°ν•© κµ¬μ΅°λ¥Ό κ°„νΈν•κ³  μ•μ •μ μΌλ΅ κµ¬ν„ν•  μ μμ.

λΈλ¦¬κ²μ΄νΈλ¥Ό λ„μ…ν• μ½”λ“β¬‡οΈ
```cpp
public class Card
{
	public int Id;
	public bool CardCheck() { return true; }
}

public delegate bool CheckDelegate();
public class Person
{
	Person(CheckDelegate InCheckDelegate)
	{
		this.Check = InCheckDelegate;
	}

	public CheckDelegate Check;
}
```

π”—μ–Έλ¦¬μ–Ό λΈλ¦¬κ²μ΄νΈ κ³µμ‹ λ¬Έμ„

<div class="rich-link-card-container"><a class="rich-link-card" href="https://docs.unrealengine.com/5.0/ko/delegates-and-lamba-functions-in-unreal-engine/" target="_blank">
	<div class="rich-link-image-container">
		<div class="rich-link-image" style="background-image: url('https://docs.unrealengine.com/5.0/Images/placeholder-social.png')">
	</div>
	</div>
	<div class="rich-link-card-text">
		<h1 class="rich-link-card-title">λΈλ¦¬κ²μ΄νΈ</h1>
		<p class="rich-link-card-description">
		C++ μ¤λΈμ νΈ μƒμ λ©¤λ²„ ν•¨μλ¥Ό κ°€λ¦¬ν‚¤κ³  μ‹¤ν–‰μ‹ν‚¤λ” λ°μ΄ν„° μ ν•μ…λ‹λ‹¤.
		</p>
		<p class="rich-link-href">
		https://docs.unrealengine.com/5.0/ko/delegates-and-lamba-functions-in-unreal-engine/
		</p>
	</div>
</a></div>



# λ°ν–‰ κµ¬λ… λ””μμΈ ν¨ν„΄
---

## μ„¤λ…
---
- ν‘Έμ‹(`Push`)ν•νƒμ μ•λ¦Ό(`Notification`)μ„ κµ¬ν„ν•λ”λ° μ ν•©ν• λ””μμΈ ν¨ν„΄
- λ°ν–‰μ(`Publisher`)μ™€ κµ¬λ…μ(`Subscriber`)λ΅ κµ¬λ¶„λλ‹¤.
	- μ½ν…μΈ  μ μ‘μλ” μ½ν…μΈ λ¥Ό μƒμ‚°ν•λ‹¤.
	- λ°ν–‰μλ” μ½ν…μΈ λ¥Ό λ°°ν¬ν•λ‹¤.
	- κµ¬λ…μλ” λ°°ν¬λ μ½ν…μΈ λ¥Ό λ°›μ•„ μ†λΉ„ν•λ‹¤.
	- μ μ‘μμ™€ κµ¬λ…μκ°€ μ„λ΅λ¥Ό λ°λΌλ„, λ°ν–‰μλ¥Ό ν†µν•΄ μ½ν…μΈ λ¥Ό μƒμ‚°ν•κ³  μ „λ‹¬ν•  μ μλ‹¤. (λμ¨ν• κ²°ν•©)
- λ°ν–‰ κµ¬λ… λ””μμΈ ν¨ν„΄μ μ¥μ 
	- μ μ‘μμ™€ κµ¬λ…μλ” μ„λ΅λ¥Ό λ¨λ¥΄κΈ° λ•λ¬Έμ— λμ¨ν• κ²°ν•©μΌλ΅ κµ¬μ„±λλ‹¤.
	- μ μ§€λ³΄μ(`Maintenance`)κ°€ μ‰½κ³ , μ μ—°ν•κ² ν™μ©λ  μ μμΌλ©°(`Flexiblity`), ν…μ¤νΈκ°€ μ‰¬μ›μ§„λ‹¤.
	- μ‹μ¤ν… μ¤μΌ€μΌμ„ μ μ—°ν•κ² μ΅°μ ν•  μ μμΌλ©°(`Scalability`), κΈ°λ¥ ν™•μ¥(`Extensibility`)μ΄ μ©μ΄ν•λ‹¤
![](https://i.imgur.com/WDhuU1O.png)

## μμ λ¥Ό μ„ν• ν΄λμ¤ λ‹¤μ΄μ–΄κ·Έλ¨κ³Ό μ‹λ‚λ¦¬μ¤
---
- ν•™κµμ—μ„ μ§„ν–‰ν•λ” μ¨λΌμΈ μμ—… ν™λ™ μμ‹
- ν•™μ‚¬μ •λ³΄(CourselInfo)μ™€ ν•™μƒ(Student)
	- ν•™κµλ” ν•™μ‚¬ μ •λ³΄λ¥Ό κ΄€λ¦¬ν•λ‹¤.
	- ν•™μ‚¬ μ •λ³΄κ°€ λ³€κ²½λλ©΄ μλ™μΌλ΅ ν•™μƒμ—κ² μ•λ ¤μ¤€λ‹¤.
	- ν•™μƒμ€ ν•™μ‚¬ μ •λ³΄μ μ•λ¦Ό κµ¬λ…μ„ ν•΄μ§€ν•  μ μλ‹¤.
- μ‹λ‚λ¦¬μ¤
	1. ν•™μ‚¬ μ •λ³΄μ™€ 3λ…μ ν•™μƒμ΄ μλ‹¤.
	2. μ‹μ¤ν…μ—μ„ ν•™μ‚¬ μ •λ³΄λ¥Ό λ³€κ²½ν•λ‹¤.
	3. ν•™μ‚¬ μ •λ³΄κ°€ λ³€κ²½λλ©΄ μ•λ¦Ό κµ¬λ…ν• ν•™μƒλ“¤μ—κ² λ³€κ²½ λ‚΄μ©μ„ μλ™μΌλ΅ μ „λ‹¬ν•λ‹¤.

## μ–Έλ¦¬μ–Ό λΈλ¦¬κ²μ΄νΈ(`Delegate`)
---
- μ–Έλ¦¬μ–Ό μ—”μ§„μ€ λ°ν–‰ κµ¬λ… ν¨ν„΄ κµ¬ν„μ„ μ„ν•΄ λΈλ¦¬κ²μ΄νΈ κΈ°λ¥μ„ μ κ³µν•¨.
- λΈλ¦¬κ²μ΄νΈμ μ‚¬μ „μ  μλ―Έλ” λ€λ¦¬μ.
	- ν•™μ‚¬μ •λ³΄μ κµ¬λ…κ³Ό μ•λ¦Όμ„ λ€λ¦¬ν•΄μ£Όλ” κ°μ²΄
- μ‹λ‚λ¦¬μ¤ κµ¬ν„μ„ μ„ν• μ„¤κ³„
	- ν•™μ‚¬ μ •λ³΄λ” κµ¬λ…κ³Ό μ•λ¦Όμ„ λ€ν–‰ν•  λΈλ¦¬κ²μ΄νΈλ¥Ό μ„ μ–Έ
	- ν•™μƒμ€ ν•™μ‚¬ μ •λ³΄μ λΈλ¦¬κ²μ΄νΈλ¥Ό ν†µν•΄ μ•λ¦Όμ„ κµ¬λ….
	- ν•™μ‚¬ μ •λ³΄λ” λ‚΄μ© λ³€κ²½μ‹ λΈλ¦¬κ²μ΄νΈλ¥Ό μ‚¬μ©ν•΄ λ“±λ΅ν• ν•™μƒλ“¤μ—κ² μ•λ¦Ό.
![](https://i.imgur.com/A3z33gF.png)



# μ–Έλ¦¬μ–Ό λΈλ¦¬κ²μ΄νΈμ μ„ μ–Έ
---

## μ–Έλ¦¬μ–Ό λΈλ¦¬κ²μ΄νΈ μ„ μ–Έμ‹ κ³ λ ¤μ‚¬ν•­
---
- λΈλ¦¬κ²μ΄νΈλ¥Ό μ„¤κ³„ν•κΈ° μ„ν• κ³ λ ¤ μ‚¬ν•­
	- μ–΄λ–¤ λ°μ΄ν„°λ¥Ό μ „λ‹¬ν•κ³  λ°›μ„ κ²ƒμΈκ°€? μΈμμ μμ™€ κ°κ°μ νƒ€μ…μ„ μ„¤κ³„
		- λ‡ κ°μ μΈμλ¥Ό μ „λ‹¬ν•  κ²ƒμΈκ°€?
		- μ–΄λ–¤ λ°©μ‹μΌλ΅ μ „λ‹¬ν•  κ²ƒμΈκ°€?
		- μΌλ€μΌλ΅ μ „λ‹¬
		- μΌλ€λ‹¤λ΅ μ „λ‹¬
	- ν”„λ΅κ·Έλλ° ν™κ²½ μ„¤μ •
		- C++ ν”„λ΅κ·Έλλ°μ—μ„λ§ μ‚¬μ©ν•  κ²ƒμΈκ°€?
		- `UFUNCTION`μΌλ΅ μ§€μ •λ λΈ”λ£¨ν”„λ¦°νΈ ν•¨μμ™€ μ‚¬μ©ν•  κ²ƒμΈκ°€?
	- μ–΄λ–¤ ν•¨μμ™€ μ—°κ²°ν•  κ²ƒμΈκ°€?
		- ν΄λμ¤ μ™Έλ¶€μ— μ„¤κ³„λ C++ ν•¨μμ™€ μ—°κ²°
		- μ „μ—­μ— μ„¤κ³„λ μ •μ  ν•¨μμ™€ μ—°κ²°
		- μ–Έλ¦¬μ–Ό μ¤λΈμ νΈμ λ©¤λ²„ ν•¨μμ™€ μ—°κ²° (λ€λ¶€λ¶„μ κ²½μ°μ— μ΄ λ°©μ‹μ„ μ‚¬μ©)


## μ–Έλ¦¬μ–Ό λΈλ¦¬κ²μ΄νΈ μ„ μ–Έ λ§¤ν¬λ΅
---
##### [`DECLARE_{λΈλ¦¬κ²μ΄νΈ μ ν•}DELEGATE{ν•¨μμ •λ³΄}`]

- λΈλ¦¬κ²μ΄νΈ μ ν• : μ–΄λ–¤ μ ν•μ λΈλ¦¬κ²μ΄νΈμΈμ§€ κµ¬μƒν•λ‹¤
	- μΌλ€μΌ ν•νƒλ΅ C++λ§ μ§€μ›ν•λ‹¤λ©΄ <u>μ ν•μ€ κ³µλ€</u>μΌλ΅ λ‘”λ‹¤.
		- β†’ `DECLARE_DELEGATE`
	- μΌλ€λ‹¤ ν•νƒλ΅ C++λ§ μ§€μ›ν•λ‹¤λ©΄ `MULTICAST`λ¥Ό μ„ μ–Έν•λ‹¤.
		- β†’ `DECLARE_MULTICAST`
	- μΌλ€μΌ ν•νƒλ΅ λΈ”λ£¨ν”„λ¦°νΈλ¥Ό μ§€μ›ν•λ‹¤λ©΄ `DYNAMIC`μ„ μ„ μ–Έν•λ‹¤.
		- β†’ `DECLARE_DYNAMIC`
	- μΌλ€λ‹¤ ν•νƒλ΅ λΈ”λ£¨ν”„λ¦°νΈλ¥Ό μ§€μ›ν•λ‹¤λ©΄ `DYNAMIC`κ³Ό `MULTICAST`λ¥Ό μ΅°ν•©ν•λ‹¤.
		- β†’ `DECLARE_DYNAMIC_MULTICAST`
- ν•¨μ μ •λ³΄ : μ—°λ™ λ  ν•¨μ ν•νƒλ¥Ό μ§€μ •ν•λ‹¤
	- μΈμκ°€ μ—†κ³ , λ°ν™κ°’λ„ μ—†μΌλ©΄ κ³µλ€μΌλ΅ λ‘”λ‹¤. 
		- β†’ `DECLARE_DELEGATE`
	- μΈμ§€κ°€ ν•λ‚κ³ , λ°ν™κ°’μ΄ μ—†μΌλ©΄ `OneParam`μΌλ΅ μ§€μ •ν•λ‹¤. 
		- β†’ `DECLARE_DELEGATE_OneParam`
	- μΈμκ°€ μ„Έ κ°κ³ , λ°ν™κ°’μ΄ μμΌλ©΄ `RetVal_ThreeParams`λ΅ μ§€μ •ν•λ‹¤.
		- β†’ `DECLARE_DELEGATE_RetVal_ThreeParams` 
		- (`MULTICAST`λ” λ°ν™κ°’μ„ μ§€μ›ν•μ§€ μ•μ)
	- νλΌλ―Έν„°λ” μµλ€ 9κ°κΉμ§€ μ§€μ›ν•¨


## μ–Έλ¦¬μ–Ό λΈλ¦¬κ²μ΄νΈ λ§¤ν¬λ΅ μ„ μ • μμ‹
---
- ν•™μ‚¬μ •λ³΄κ°€ λ³€κ²½λλ©΄ μ•λ¦Ό μ£Όμ²΄μ™€ λ‚΄μ©μ„ ν•™μƒμ—κ² μ „λ‹¬ν•λ‹¤.
	- β†’ λ‘κ°μ μΈμλ¥Ό κ°€μ§(μ•λ¦Ό μ£Όμ²΄, λ‚΄μ©)
- λ³€κ²½λ ν•™μ‚¬ μ •λ³΄λ” λ‹¤μ μΈμ›μ„ λ€μƒμΌλ΅ λ°μ†΅ν•λ‹¤.
	- β†’ μΌλ€λ‹¤ ν•μ‹ β†’ `MULTICAST`λ¥Ό μ‚¬μ©
- μ¤μ§ C++ ν”„λ΅κ·Έλλ°μ—μ„λ§ μ‚¬μ©ν•λ‹¤. (λΈ”λ£¨ν”„λ¦°νΈ μ‚¬μ© μ•ν•¨)
	- β†’ `DYNAMIC`μ€ μ‚¬μ©ν•μ§€ μ•μ

##### β‡’ `DECLARE_MULTICAST_DELEGATE_TwoParams` λ§¤ν¬λ΅ μ‚¬μ©


## μ–Έλ¦¬μ–Ό λΈλ¦¬κ²μ΄νΈμ μ„¤κ³„
---
- ν•™μ‚¬ μ •λ³΄ ν΄λμ¤μ™€ ν•™μƒ ν΄λμ¤μ μƒνΈ μμ΅΄μ„±μ„ **μµλ€ν• μ—†μ•¤λ‹¤.**
	- **ν•λ‚μ ν΄λμ¤λ” ν•λ‚μ μ‘μ—…**μ—λ§ μ§‘μ¤‘ν•λ„λ΅ μ„¤κ³„
	- ν•™μ‚¬ μ •λ³΄ ν΄λμ¤λ” λΈλ¦¬κ²μ΄νΈλ¥Ό μ„ μ–Έν•κ³  μ•λ¦Όμ—λ§ μ§‘μ¤‘
	- ν•™μƒ ν΄λμ¤λ” μ•λ¦Όμ„ μμ‹ν•λ”λ°λ§ μ§‘μ¤‘
	- μ§μ›λ„ μ•λ¦Όμ„ λ°›μ„ μ μλ„λ΅ **μ μ—°ν•κ² μ„¤κ³„**
	- ν•™μ‚¬ μ •λ³΄μ™€ ν•™μƒμ€ **μ„λ΅ ν—¤λ”λ¥Ό μ°Έμ΅°ν•μ§€ μ•λ„λ΅ μ‹ κ²½μ“Έ κ²ƒ**
- μ΄λ¥Ό μ„ν•΄ λ°ν–‰κ³Ό κµ¬λ…μ„ μ»¨νΈλ΅¤ν•λ” μ£Όμ²΄λ¥Ό μ„¤μ •
	- ν•™μ‚¬ μ •λ³΄μ—μ„ μ„ μ–Έν• λΈλ¦¬κ²μ΄νΈλ¥Ό μ¤‘μ‹¬μΌλ΅ κµ¬λ…κ³Ό μ•λ¦Όμ„ μ»¨νΈλ΅¤ν•λ” μ£Όμ²΄ μ„¤μ •
![](https://i.imgur.com/gmCbnTE.png)
